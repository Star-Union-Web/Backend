{% extends "Users/card_temp.html" %}

{% block title %}Profile{% endblock %}

{% block card_title %}Profile{% endblock %}

{% block card_content %}

<h3 class="card-title">{{user.name}}</h3>
<p><i class="bi bi-envelope-fill"></i>{{user.email}}</p>

<div class="d-flex justify-content-center mb-3 mt-3">
    {% if perms.events.add_event %}
    <a href="{% url 'create_event' %}" class="btn btn-outline-success mx-2">Create Event</a>
    {% endif %}
    <a href="{% url 'logout' %}" class="btn btn-outline-danger mx-2">Logout</a>
</div>

</div>
</div>

<div class="card shadow-lg border-0 rounded-lg mt-3">
    <div class="card-header bg-dark text-white text-center">
        <h3 class="card-title">OrganizedEvents</h3>
    </div>
    <div class="card content text-center">
        <h6 class="card-title mt-3">Number of Created Events: {{ events|length }}</h6>            
<div class="row card-body">
    {% for event in events %}
    <div class="col-md-4 mb-3">
        <div class="card bg-dark text-white text-center">
            <div class="card-body">
                <h5 class="card-title">Event: {{ event.title }}</h5>
                <p>Capacity: {{event.capacity}}</p>
                <a href="{% url 'view_event' event.id %}" class="btn btn-sm btn-outline-primary">View attendees</a>
                <a href="{% url 'update_event' event.id %}" class="btn btn-sm btn-outline-secondary ">Edit</a>
                <form action="{% url 'delete_event' event.id %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-sm btn-outline-danger ">Delete</button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>



{% endblock %}